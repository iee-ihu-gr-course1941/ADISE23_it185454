# ADISE23_it185454
## STRATEGO

ΠΕΡΙΕΧΟΜΕΝΑ
=================
   * [Εισαγωγή](#εισαγωγή)
   * [Εγκατάσταση Απαιτούμενων](#εγκατάσταση-απαιτούμενων)
      * [Απαιτήσεις](#απαιτήσεις)
   * [Οδηγίες Εγκατάστασης](#οδηγίες-εγκατάστασης)
   * [Περιγραφή Παιχνιδιού](#περιγραφή-παιχνιδιού)
      * [Κανόνες](#κανόνες)
         * [Μετακίνηση](#μετακίνηση)
         * [Επίθεση](#επίθεση)
      * [Βάση Δεδομένων](#βάση-δεδομένων)
         * [Πίνακες](#πίνακες)
         * [Διεργασίες](#διεργασίες)
         * [Εναύσματα](#εναύσματα)
   * [Περιγραφή API](#περιγραφή-api)
      * [Methods](#methods)
         * [Board](#board)
            * [Ανάγνωση Board](#ανάγνωση-board)
            * [Αρχικοποίηση Board](#αρχικοποίηση-board)
         * [Piece](#piece)
            * [Ανάγνωση Θέσης/Πιονιού](#ανάγνωση-θέσηςπιονιού)
            * [Μεταβολή Θέσης Πιονιού](#μεταβολή-θέσης-πιονιού)
         * [Player](#player)
            * [Ανάγνωση στοιχείων παίκτη](#ανάγνωση-στοιχείων-παίκτη)
            * [Καθορισμός στοιχείων παίκτη](#καθορισμός-στοιχείων-παίκτη)
         * [Status](#status)
            * [Ανάγνωση κατάστασης παιχνιδιού](#ανάγνωση-κατάστασης-παιχνιδιού)

# Εισαγωγή
Η εργασία Stratego εκπονήθηκε στα πλαίσια του μαθήματος ΑΔΙΣΕ. Στόχος είναι η δυνατότητα δύο ανθρώπων να απολαύσουν το επιτραπέζιο παιχνίδι με την χρήση του υπολογιστή. Σκοπός της εργασίας αυτής είναι η δημιουργία του επιτραπέζιου παιχνιδιού Stratego, με απαιτήσεις την ανάπτυξη ενός web api  το οποίο εκτελείται μέσω Command Prompt (CMD) με cURL εντολές (Client URL). Η κατασκευή του παιχνιδιού έγινε με τη χρήση της γλώσσας προγραμματισμού PHP (Hypertext Preprocessor) σε συνδυασμό με την mySQL για την δημιουργία του API (Application Programming Interface) και της βάσης δεδομένων αντίστοιχα. Για την κατασκευή της βάσης χρησιμοποιήθηκε το περιβάλλον της HeidiSQL. Τέλος, η δημιουργία και εκτέλεση των HTTP Requests, με τα οποία παίζεται το παιχνίδι, υλοποιήθηκε στο Postman (API Platform).

# Εγκατάσταση Απαιτούμενων
Για την πρόσβαση ενός χρήστη στο παιχνίδι, είναι απαραίτητες οι εγκαταστάσεις κάποιων προγραμμάτων και εργαλείων στον προσωπικό του υπολογιστή. Αρχικά, πρέπει να είναι εγκατεστημένο το XAMPP (πακέτο λογισμικού ανοιχτού κώδικα το οποίο παρέχει ένα τοπικό περιβάλλον web server). Από τις υπηρεσίες του XAMPP, πρέπει να είναι εγκατεστημένες το Apache (εργαλείο ανοικτού κώδικα που χρησιμοποιείται για την τοπική εκτέλεση εφαρμογών PHP) και η MySQL (σύστημα διαχείρισης βάσεων δεδομένων). Ακόμα, πρέπει να είναι εγκατεστημένη η PHP και τέλος το cURL, ένα εργαλείο γραμμής εντολών που χρησιμοποιούν οι προγραμματιστές για τη μεταφορά δεδομένων από και προς ένα server.

## Απαιτήσεις
* Apache2
* Mysql Server
* php
* cURL

## Οδηγίες Εγκατάστασης
 * Κάντε clone το project σε κάποιον φάκελο <br/>
  `$ git clone https://github.com/iee-ihu-gr-course1941/ADISE23_it185454.git`

 * Βεβαιωθείτε ότι ο φάκελος είναι προσβάσιμος από τον Apache Server. Για να γίνει αυτό αρκεί να μεταβεί στον configuration αρχείο (httpd-xampp.conf) του Apache, μέσα από το XAMPP, και να συμπληρώσει στο τέλος το παρακάτω κείμενο:
```
  Alias /stratego "C:/ProjectAdise/ADISE23_it185454/webfiles"
    <Directory "C:/ProjectAdise/ADISE23_it185454/webfiles">
    	AllowOverride All
    	Require all granted
    </Directory>
 ```
Όπου  υπάρχει το path (C:/ProjectAdise/ADISE23_it185454/webfiles), ο χρήστης πρέπει να το αντικαταστήσει με το δικό του path, τον φάκελο που έκανε την κλονοποίηση. 
 * Θα πρέπει να δημιουργήσετε στην Mysql την βάση με όνομα 'stratego' και να φορτώσετε σε αυτήν την βάση τα δεδομένα από το αρχείο schema.sql 
 * Θα πρέπει να φτιάξετε το αρχείο library/db_upass.php το οποίο να περιέχει:
```
    <?php
	$DB_PASS = 'κωδικός';
	$DB_USER = 'όνομα χρήστη';
    ?>
```

# Περιγραφή Παιχνιδιού

Το σκάκι παίζεται ως εξής: .....

Οι κανόνες είναι οι ....

Η βάση μας κρατάει τους εξής πίνακες και στοιχεία ....

Η εφαρμογή απαπτύχθηκε μέχρι το σημείο .....(αναφέρετε τι υλοποιήσατε και τι όχι)

## Συντελεστές

Περιγράψτε τις αρμοδιότητες της ομάδας.

Προγραμματιστής 1: Jquery

Προγραμματιστής 2: PHP API

Προγραμματιστής 3: Σχεδιασμός mysql

....


# Περιγραφή API

## Methods


### Board
#### Ανάγνωση Board

```
GET /board/
```

Επιστρέφει το [Board](#Board).

#### Αρχικοποίηση Board
```
POST /board/
```

Αρχικοποιεί το Board, δηλαδή το παιχνίδι. Γίνονται reset τα πάντα σε σχέση με το παιχνίδι.
Επιστρέφει το [Board](#Board).

### Piece
#### Ανάγνωση Θέσης/Πιονιού

```
GET /board/piece/:x/:y/
```

Κάνει την κίνηση του πιονιού από την θέση x,y στην νέα θέση. Προφανώς ελέγχεται η κίνηση αν είναι νόμιμη καθώς και αν είναι η σειρά του παίκτη να παίξει με βάση το token.
Επιστρέφει τα στοιχεία από το [Board](#Board-1) με συντεταγμένες x,y.
Περιλαμβάνει το χρώμα του πιονιού και τον τύπο.

#### Μεταβολή Θέσης Πιονιού

```
PUT /board/piece/:x/:y/
```
Json Data:

| Field             | Description                 | Required   |
| ----------------- | --------------------------- | ---------- |
| `x`               | Η νέα θέση x                | yes        |
| `y`               | Η νέα θέση y                | yes        |

Επιστρέφει τα στοιχεία από το [Board](#Board-1) με συντεταγμένες x,y.
Περιλαμβάνει το χρώμα του πιονιού και τον τύπο


### Player

#### Ανάγνωση στοιχείων παίκτη
```
GET /players/:p
```

Επιστρέφει τα στοιχεία του παίκτη p ή όλων των παικτών αν παραληφθεί. Το p μπορεί να είναι 'B' ή 'W'.

#### Καθορισμός στοιχείων παίκτη
```
PUT /players/:p
```
Json Data:

| Field             | Description                 | Required   |
| ----------------- | --------------------------- | ---------- |
| `username`        | Το username για τον παίκτη p. | yes        |
| `color`           | To χρώμα που επέλεξε ο παίκτης p. | yes        |


Επιστρέφει τα στοιχεία του παίκτη p και ένα token. Το token πρέπει να το χρησιμοποιεί ο παίκτης καθόλη τη διάρκεια του παιχνιδιού.

### Status

#### Ανάγνωση κατάστασης παιχνιδιού
```
GET /status/
```

Επιστρέφει το στοιχείο [Game_status](#Game_status).



## Entities


### Board
---------

Το board είναι ένας πίνακας, ο οποίος στο κάθε στοιχείο έχει τα παρακάτω:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `x`                      | H συντεταγμένη x του τετραγώνου              | 1..8                                |
| `y`                      | H συντεταγμένη y του τετραγώνου              | 1..8                                |
| `b_color`                | To χρώμα του τετραγώνου                      | 'B','W'                             |
| `piece_color`            | To χρώμα του πιονιού                         | 'B','W', null                       |
| `piece`                  | To Πιόνι που υπάρχει στο τετράγωνο           | 'K','Q','R','B','N','P', null       |
| `moves`                  | Πίνακας με τα δυνατά τετράγωνα (x,y) που μπορεί να μετακινηθεί το τρέχον πιόνι. Αν δεν υπάρχει πιόνι, ή δεν έχει κάνει login ο χρήστης, ή δεν έχει ξεκινήσει το παιχνίδι ή αν δεν υπάρχουν κινήσεις, τότε το πεδίο δεν υπάρχει. |   |


### Players
---------

O κάθε παίκτης έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `username`               | Όνομα παίκτη                                 | String                              |
| `piece_color`            | To χρώμα που παίζει ο παίκτης                | 'B','W'                             |
| `token  `                | To κρυφό token του παίκτη. Επιστρέφεται μόνο τη στιγμή της εισόδου του παίκτη στο παιχνίδι | HEX |


### Game_status
---------

H κατάσταση παιχνιδιού έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `status  `               | Κατάσταση             | 'not active', 'initialized', 'started', 'ended', 'aborded'     |
| `p_turn`                 | To χρώμα του παίκτη που παίζει        | 'B','W',null                              |
| `result`                 |  To χρώμα του παίκτη που κέρδισε |'B','W',null                              |
| `last_change`            | Τελευταία αλλαγή/ενέργεια στην κατάσταση του παιχνιδιού         | timestamp |
